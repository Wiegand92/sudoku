(()=>{"use strict";function n(n,t){return t?void n.forEach(((n,o)=>{n.forEach(((n,u)=>{t[o][u]=n}))})):n.map((n=>n.slice()))}const t=[[0,0,0,1,1,1,2,2,2],[0,0,0,1,1,1,2,2,2],[0,0,0,1,1,1,2,2,2],[3,3,3,4,4,4,5,5,5],[3,3,3,4,4,4,5,5,5],[3,3,3,4,4,4,5,5,5],[6,6,6,7,7,7,8,8,8],[6,6,6,7,7,7,8,8,8],[6,6,6,7,7,7,8,8,8]];function o(n,o,u,r,e){return function(n,o,u){const r=function(n,o){const u=[];for(let r=0;r<9;r++)for(let e=0;e<9;e++)o===t[r][e]&&u.push(n[r][e]);return u}(n,o);return!r.includes(u)}(n,r,e)&&function(n,t,o){const u=function(n,t){const o=[];for(let u=0;u<9;u++)o.push(n[u][t]);return o}(n,t);return!u.includes(o)}(n,u,e)&&function(n,t,o){const u=function(n,t){return n[t]}(n,t);return!u.includes(o)}(n,o,e)}const u=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]],r=n(u);function e(u,c=0,f=0,i=0){if(2===i)return{count:i,foundSolution:r};if(9===f){if(8===c)return{count:i+=1,foundSolution:r};c++,f=0}if(u[c][f]>0)return e(u,c,f+1,i);for(let l=1;l<10;l++)if(o(u,c,f,t[c][f],l)){u[c][f]=l;const t=e(u,c,f+1,i);t.count>i?(i=t.count,8===c&&8===f&&n(u,r),u[c][f]=0):u[c][f]=0}return{count:i,foundSolution:r}}function c(){const r=n(u);for(let n=1;n<82;n++){let n=Math.floor(9*Math.random()),u=Math.floor(8*Math.random()),e=Math.floor(8*Math.random());o(r,u,e,t[u][e],n)&&0===r[u][e]&&(r[u][e]=n)}const f=e(r);return 1===f.count?f.foundSolution:c()}function f(t="easy"){const o=c();let u=n(o);if("easy"===t)for(let n=0;n<41;n++)l(u);return{puzzleSolution:o,puzzle:u}}function i(){return Math.floor(9*Math.random())}function l(n){const t=i(),o=i(),u=n[t][o];if(0!==n[t][o]){if(n[t][o]=0,1===e(n).count)return;n[t][o]=u,l(n)}else l(n)}onmessage=function(n){n.data;{const{puzzleSolution:n,puzzle:t}=f();this.postMessage({puzzleSolution:n,puzzle:t})}}})();